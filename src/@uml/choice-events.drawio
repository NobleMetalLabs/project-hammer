<mxfile host="65bd71144e">
    <diagram id="B_DezO1rvKCadzvHnShA" name="CLASS">
        <mxGraphModel dx="524" dy="827" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="NarrativeChoiceChunk" style="swimlane;fontStyle=5;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="435" y="481" width="230" height="56" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="choices : Array[NarrativeChoice]" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="2" vertex="1">
                    <mxGeometry y="26" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="NarrativeChunkChoice" style="swimlane;fontStyle=5;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="400" y="601" width="300" height="116" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="text : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="9" vertex="1">
                    <mxGeometry y="26" width="300" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="ethical_partialities : Dictionary[Ethics.Principle, float]" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="9" vertex="1">
                    <mxGeometry y="56" width="300" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="resulting_narrative : NarrativeChunk" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="9" vertex="1">
                    <mxGeometry y="86" width="300" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="" style="endArrow=diamondThin;endFill=1;endSize=24;html=1;edgeStyle=elbowEdgeStyle;elbow=vertical;" parent="1" source="9" target="6" edge="1">
                    <mxGeometry width="160" relative="1" as="geometry">
                        <mxPoint x="545" y="716" as="sourcePoint"/>
                        <mxPoint x="435" y="560" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="550" y="601"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="24" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;edgeStyle=elbowEdgeStyle;" parent="1" source="2" target="r-k2IQQcktP8UsuVngvY-32" edge="1">
                    <mxGeometry width="160" relative="1" as="geometry">
                        <mxPoint x="565" y="481" as="sourcePoint"/>
                        <mxPoint x="725" y="481" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="27" value="Resource" style="swimlane;fontStyle=5;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="435" y="134" width="230" height="56" as="geometry"/>
                </mxCell>
                <mxCell id="30" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;edgeStyle=elbowEdgeStyle;" parent="1" source="r-k2IQQcktP8UsuVngvY-32" target="27" edge="1">
                    <mxGeometry width="160" relative="1" as="geometry">
                        <mxPoint x="805" y="521" as="sourcePoint"/>
                        <mxPoint x="570" y="373" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="r-k2IQQcktP8UsuVngvY-32" value="NarrativeChunk" style="swimlane;fontStyle=5;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="435" y="261" width="230" height="146" as="geometry"/>
                </mxCell>
                <mxCell id="r-k2IQQcktP8UsuVngvY-33" value="description : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="r-k2IQQcktP8UsuVngvY-32" vertex="1">
                    <mxGeometry y="26" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="r-k2IQQcktP8UsuVngvY-34" value="result_description : String" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="r-k2IQQcktP8UsuVngvY-32" vertex="1">
                    <mxGeometry y="56" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="r-k2IQQcktP8UsuVngvY-35" value="result_commands : Array[String]" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="r-k2IQQcktP8UsuVngvY-32" vertex="1">
                    <mxGeometry y="86" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="KljNtrRuVCwtTmo7OKSc-30" value="next_chunk : NarrativeChunk" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="r-k2IQQcktP8UsuVngvY-32" vertex="1">
                    <mxGeometry y="116" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="KljNtrRuVCwtTmo7OKSc-31" value="" style="endArrow=diamondThin;endFill=1;endSize=24;html=1;edgeStyle=orthogonalEdgeStyle;entryX=0;entryY=0.5;entryDx=0;entryDy=0;elbow=vertical;" parent="r-k2IQQcktP8UsuVngvY-32" source="r-k2IQQcktP8UsuVngvY-32" target="KljNtrRuVCwtTmo7OKSc-30" edge="1">
                    <mxGeometry width="160" relative="1" as="geometry">
                        <mxPoint x="280" y="30" as="sourcePoint"/>
                        <mxPoint x="400" y="190" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="-60" y="80"/>
                            <mxPoint x="-60" y="131"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="r-k2IQQcktP8UsuVngvY-36" value="" style="endArrow=diamondThin;endFill=1;endSize=24;html=1;edgeStyle=elbowEdgeStyle;elbow=vertical;" parent="1" source="r-k2IQQcktP8UsuVngvY-32" target="16" edge="1">
                    <mxGeometry width="160" relative="1" as="geometry">
                        <mxPoint x="563" y="616" as="sourcePoint"/>
                        <mxPoint x="643" y="437" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="763" y="217"/>
                            <mxPoint x="623" y="247"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="3oLWx8b8DrkK7JCzHXec" name="SEQUENCE">
        <mxGraphModel dx="524" dy="827" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="iq0Jkui4Xhdb2TkyUSVj-8" value="UINarrativeChunkPanel" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
                    <mxGeometry x="80" y="40" width="120" height="600" as="geometry"/>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-23" value="Story Event Series (aka Quest Line)" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;width=120;height=50;" parent="1" vertex="1">
                    <mxGeometry x="60" y="130" width="1010" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-14" value="Story Sequence" style="shape=umlFrame;whiteSpace=wrap;html=1;pointerEvents=0;width=110;height=30;" parent="1" vertex="1">
                    <mxGeometry x="120" y="330" width="610" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="iq0Jkui4Xhdb2TkyUSVj-9" value="EventBus" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
                    <mxGeometry x="760" y="40" width="100" height="600" as="geometry"/>
                </mxCell>
                <mxCell id="iq0Jkui4Xhdb2TkyUSVj-11" value="NarrativeChunkHandler" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
                    <mxGeometry x="400" y="40" width="120" height="600" as="geometry"/>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-1" value="push_event()" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" parent="1" edge="1">
                    <mxGeometry width="60" relative="1" as="geometry">
                        <mxPoint x="809.5" y="220" as="sourcePoint"/>
                        <mxPoint x="459.5" y="220" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="720" y="220"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-2" value="display_story_event(event : NarrativeChunk)" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" parent="1" edge="1">
                    <mxGeometry width="60" relative="1" as="geometry">
                        <mxPoint x="459.5000000000002" y="380" as="sourcePoint"/>
                        <mxPoint x="140" y="380" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-3" value="signal story_event_advance(event : NarrativeChunk)" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" parent="1" edge="1">
                    <mxGeometry width="60" relative="1" as="geometry">
                        <mxPoint x="139.66666666666674" y="420" as="sourcePoint"/>
                        <mxPoint x="459.5000000000002" y="420" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="290" y="420"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-4" value="process_result_commands()" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" parent="1" edge="1">
                    <mxGeometry x="0.5019" width="60" relative="1" as="geometry">
                        <mxPoint x="459.66666666666674" y="440" as="sourcePoint"/>
                        <mxPoint x="939.5" y="440" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="690" y="440"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-7" value="proc_narrative_chunks()" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;rounded=0;" parent="1" edge="1">
                    <mxGeometry x="-0.7871" y="10" relative="1" as="geometry">
                        <mxPoint x="459.66666666666674" y="270" as="sourcePoint"/>
                        <Array as="points">
                            <mxPoint x="620" y="270"/>
                            <mxPoint x="620" y="290"/>
                        </Array>
                        <mxPoint x="459.66666666666674" y="290" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-9" value="CommandServer" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
                    <mxGeometry x="880" y="40" width="120" height="600" as="geometry"/>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-16" value="register_narrative_chunk_occurance(evaluator : Callable, event : NarrativeChunk)" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" parent="1" edge="1">
                    <mxGeometry x="0.1229" width="60" relative="1" as="geometry">
                        <mxPoint x="939.5" y="170" as="sourcePoint"/>
                        <mxPoint x="459.5" y="170" as="targetPoint"/>
                        <Array as="points"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-20" value="display_next_narrative_chunk(event : NarrativeChunk)" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;rounded=0;" parent="1" edge="1">
                    <mxGeometry x="-0.952" y="10" relative="1" as="geometry">
                        <mxPoint x="459.66666666666674" y="470" as="sourcePoint"/>
                        <Array as="points">
                            <mxPoint x="710" y="470"/>
                            <mxPoint x="710" y="350"/>
                        </Array>
                        <mxPoint x="459.66666666666674" y="350" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-22" value="run_command()" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;rounded=0;" parent="1" edge="1">
                    <mxGeometry x="-0.952" y="10" relative="1" as="geometry">
                        <mxPoint x="939.5" y="460" as="sourcePoint"/>
                        <Array as="points">
                            <mxPoint x="1050" y="460"/>
                            <mxPoint x="1050" y="150"/>
                        </Array>
                        <mxPoint x="939.5" y="150" as="targetPoint"/>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="4MZaJ6rPSjcV9gOx1s7u-24" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;edgeStyle=orthogonalEdgeStyle;" parent="1" source="iq0Jkui4Xhdb2TkyUSVj-11" target="iq0Jkui4Xhdb2TkyUSVj-11" edge="1">
                    <mxGeometry width="160" relative="1" as="geometry">
                        <mxPoint x="459.5000000000002" y="170" as="sourcePoint"/>
                        <mxPoint x="459.5000000000002" y="350" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="390" y="170"/>
                            <mxPoint x="390" y="220"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>